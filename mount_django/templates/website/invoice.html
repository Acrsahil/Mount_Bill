{% extends "layout.html" %}
{% load static %}



{% block title %}Invoices - InvoicePro{% endblock %}

{% block content %}
<div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-file-invoice-dollar"></i>
            <h1 class="bg-orange-500 text-3xl">InvoicePro</h1>
        </div>
        <ul class="menu">
            <li class="menu-item">
                <a href="/dashboard/">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="menu-item active">
                <a href="/dashboard/invoices/">
                    <i class="fas fa-file-invoice"></i>
                    <span>Invoices</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="/dashboard/products/">
                    <i class="fas fa-box"></i>
                    <span>Products</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="/dashboard/clients/">
                    <i class="fas fa-users"></i>
                    <span>Clients</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Invoices Tab Content -->
        <div class="tab-content active" id="invoices-tab">
            <div class="header">
                <h2>Invoices</h2>
                <div class="user-info">
                    <div class="user-avatar">SA</div>
                    <div>
                        <div>Sahil Acharya</div>
                        <div style="font-size: 12px; color: var(--gray);">Administrator</div>
                    </div>
                </div>
            </div>

            <!-- Invoice Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" id="createInvoiceBtn">
                    <i class="fas fa-plus"></i> Create Invoice
                </button>
                <button class="btn btn-light" id="filterInvoicesBtn">
                    <i class="fas fa-filter"></i> Filter
                </button>
                <button class="btn btn-light" id="printBtn">
                    <i class="fas fa-print"></i> Print
                </button>
            </div>

            <!-- Invoice Table -->
            <div class="invoice-section">
                <div class="section-header">
                    <h3>All Invoices</h3>
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Search invoices...">
                    </div>
                </div>
                <table id="invoicesTable">
                    <thead>
                        <tr>
                            <th>Bill No #</th>
                            <th>Client</th>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="invoicesTableBody">
                        <!-- Invoices will be dynamically added here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Include the modals (same as your dashboard) -->
{% include "website/bill_layout.html" %}
<div class="modal" id="createInvoiceModal">
    <!-- Your existing create invoice modal HTML -->
</div>

{% endblock %}

{% block extra_js %}
<script>
// Pass Django data to JavaScript
window.djangoData = {
    products: {{ product|safe }},
    product_cat: {{ product_cat|safe }},
    clients: {{ customer|safe }},
    invoices: {{ invoices|safe }},
    csrfToken: "{{ csrf_token }}",
};
</script>

<script src="{% static 'js/delete.js' %}"></script>
<script src="{% static 'js/bill_layout.js' %}"></script>
<script type="module" src="{% static 'js/main.js' %}"></script>
{% endblock %}
